live_loop :rhythm do
  num = range(1,256).tick(:r)
  # or try this
  # num = rrand_i(1,256)
  pattern = sprintf("%b", num).rjust(8, '0').chars.map(&:to_i)
  rate = (ring 0.8, 1.2).tick(:rate)

  puts num
  puts pattern

  sample :bd_tek
  pattern.each do |b|
    sample :drum_cymbal_closed, rate: rate if b == 1
    sleep 0.125
  end
end