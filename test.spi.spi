live_loop :soaring_bass_line, sync: :slicing do
tick
notes =  knit([:Fs1,4],4,[:GS1,4],1,[:B1,4],3,[:D2,2],8,[:Cs2,2], 8,
              [:Fs2,4],4,[:GS2,4],1,[:B2,4],3,[:D3,2],8,[:Cs2,2], 8).look
n=notes[0]
durs=notes[-1]
puts "Bass: [#{n}]"
#s = synth :prophet, note: n, decay: 0.25, pan: 0.25, amp: 1.0, attack: 0.0001, cutoff: 55#60
#s = synth :dark_sea_horn, note: n, decay: durs-0.1, pan: 0.25, amp: 0.8, attack: 2.0, cutoff: 60
durs.times {sleep 1}
#end
end
#end

live_loop :drum_layer,sync: :slicing do
  tick
  #smp Dust[/crunchy/,4], amp: 0.5
  8.times{
    if ring(1,0,0,0, 1,0,1,0).look == 1
      smp Junk[/lo/,0], amp: 0.5*0
    end
    if ring(0,1,0,0,0,0,0,0).look == 1
      smp Fraz[/snap/,2], amp: 0.5*0
    end
    if ring(0,0,1,0,0,0,0,0).look == 1
      smp Fraz[/snap/,4], amp: 1*0
    end
    tick
    sleep 1/2.0
  }
end
