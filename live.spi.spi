def live(name, *args, &block)
  fx = resolve_synth_opts_hash_or_array(args)
  x = lambda{||
    with_fx((fx[:fx] || :none), mix: (fx[:mix] || 0)) do
      block.()
    end}
  live_loop(name, *args, &x)
end


live :test2, fx: :hpf, mix:  ramp(0, 1, 256).tick(:fir2e)
1.0 do
  puts "TEST"
  play :FS5, amp: 2
  sleep 1
end
