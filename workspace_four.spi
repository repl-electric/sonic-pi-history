require 'json'

ROOM_SOURCE = "/Users/josephwilk/Workspace/josephwilk/ruby/bright/data.json"
ROOM        = File.read(ROOM_SOURCE)

bar = 1.0

live_loop :metronome do
  cue :whole; sleep bar
end

live_loop :cam1 do
sync :whole
kick = [:drum_bass_soft].choose
sample kick, beat_stretch: (ring 1.0, 0.9, 0.99, 0.9).tick
end

live_loop :cam2 do
sync :whole
with_synth :dsaw do
play scale(:Fs2, :major_pentatonic).shuffle.tick, attack: 0.1
end
end

live_loop :cam3 do
sync :whole
end