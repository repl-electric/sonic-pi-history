set_sched_ahead_time! 2
live_loop :beep do
  use_bpm 70
  sample :bd_haus if spread(4,4).tick(:bd)

  with_fx :echo, mix: 0.3 do
    sample :drum_cymbal_closed if spread(3,8).tick(:hat)
    
    with_fx :slicer, phase: 0.125, probability: rand do
      synth [:saw, :piano].choose, note: note_range(:a1, :a2, pitches: [:a,:c,:e]).tick(:nt), 
        release: 0.001, sustain: 0.5
    end
  end

  sleep 0.5
end