use_synth :fm
use_synth_defaults release: 0.3

live_loop :phase, auto_cue: false do |c|
  # start the second loop as if 10k notes had elapsed
  #c = 10000 if c == 0

  n = scale(:FS3, :major).shuffle[c]

  at do play n end
  at c*(0.1672 - 1.0/6) do play n end

  sleep 1.0/6
  c += 1
end