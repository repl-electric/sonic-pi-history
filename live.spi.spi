live_loop :moving, sync: :metro do
  sync :music
  mega = (ring
    (ring [:A2,1/8.0], [:B2,1/8.0], [:Cs3,1/8.0],[_,1/8.0],[:d3,1/8.0],[_,1/8.0], [_,1/4.0],  [_, 1/2.0], [_, 1/4.0]),
    )

  sleep 2/4.0
  score = mega.look
  10.times{
    #zero (knit :A2,24,:E3,24).look,5
    s = score.look
    zero s,(line 0,100,9).look if s && s[0]
  #midi_pitch_bend 0.5, port: :iac_bus_1, channel: 9

    puts score.map{|z| z[-1] }.reduce(:+)
    tick

    sleep s[-1]
  }
end