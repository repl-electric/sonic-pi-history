x =(knit :As4, 4, :B4, 4,  :Cs4, 4, :B4, 4)

puts x

def doit(a)
a.map{|s| s.gsub(/#/,"s")}

note, factor = a.last.split("*")
factor ||= 1
a[-1] = note
a.map{|s| [s] * factor }
end

puts doit(%w{A#4 B#4 C#4 B4*4})