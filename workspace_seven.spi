 bar = 1/12.0/2

live_loop :metro do
  cue :sixteen; cue :middle; sleep bar/2; cue :middle; sleep bar/2;
end

#|1 2 3 4|5 6 7 8|9 10 11 12|13 14 15 16|

live_loop :ride do
  sample :drum_cymbal_closed
  2.times{sync :sixteen}
  sample :drum_cymbal_closed
  14.times{sync :sixteen}
end

live_loop :kick do
  double = (dice(6) > 4)
  s = [:elec_snare, :elec_hollow_kick].choose
  
  sync :sixteen
  sample :drum_heavy_kick, start: 0.0, amp: 2.0
  (3).times{sync :sixteen}

  sync :sixteen
  sample :elec_mid_snare
  (2).times{sync :sixteen}

  if(double)
    sample :elec_soft_kick
    sync :sixteen
  else
    sync :sixteen
  end
 
  sync :sixteen
  sample :elec_hi_snare
  (2).times{sync :sixteen}
 
  if(double)
    sample :elec_soft_kick
    sync :sixteen
  else
    sync :sixteen
  end
  
  sync :sixteen
  sample :drum_heavy_kick, start: 0.1
  (3).times{sync :sixteen}
end

live_loop :striate do
  sync :sixteen
  sample :elec_blip
  2.times{sync :sixteen}
  
  5.times {
    sample :elec_blip
    sync :sixteen
  }

  1.times{sync :sixteen}
  with_fx :distortion, distort: 0.9 do
  sample :elec_blip, amp: 0.8
  end
  
  4.times{sync :sixteen}
  with_fx :distortion, distort: 0.9 do
    sample :elec_blip, amp: 0.8
  end
  
  3.times{ sync :sixteen}
end